{"version":3,"sources":["script.js"],"names":["mobile_menu","document","querySelector","hamburger_menu","dark_overlay","getElementById","html_el","documentElement","links","querySelectorAll","bookmark","bookmark_div","bookmark_img","all_details","pledge_card","back_this_btn","back_this_project","close_this_btn","small_circles","thanks","amount_contributed","no_of_backers","days_left","current_progress","input","pledge_div","submit_btn","about_card","pledges_left","pledges_left2","currency_formatter","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","total_amount","backers","progress","Math","floor","open_menu","visibility","opacity","display","overflowY","close_menu","bookmarked","innerHTML","color","src","open_back_this","close_back_this","toggleOpenOnly","e","open","forEach","det","show_thanks","total_backer_update","format","toLocaleString","value","setTimeout","grey_out","item1","item2","classList","add","addEventListener","pledge","pledge_input","submit_value","parseInt","min","alert","event","key","card","pledged_amount","reduce_pledge","remaining_pledges","link"],"mappings":"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","file":"script.46e460d4.js","sourceRoot":"..","sourcesContent":["const mobile_menu = document.querySelector('.menu_mobile')\r\nconst hamburger_menu = document.querySelector('.hamburger')\r\nconst dark_overlay = document.getElementById(\"dark_overlay\")\r\nconst html_el = document.documentElement\r\nconst links = document.querySelectorAll(\".links\")\r\nconst bookmark = document.querySelector(\".bookmark\"),\r\nbookmark_div = document.getElementById(\"bookmark\"),\r\nbookmark_img = document.getElementById(\"bookmark_image\")\r\nconst all_details = document.querySelectorAll(\".detail\")\r\nconst pledge_card = document.querySelectorAll('.reward_pledge')\r\nconst back_this_btn = document.getElementById(\"back_project_btn\"),\r\nback_this_project = document.getElementById(\"back_this_project\")\r\nconst close_this_btn = document.querySelector(\".close\")\r\nconst small_circles = document.querySelectorAll('.small_circle')\r\nconst thanks = document.getElementById(\"thanks\")\r\n\r\n\r\nconst amount_contributed = document.getElementById(\"current_total\"),\r\nno_of_backers = document.getElementById(\"no_of_backers\"),\r\ndays_left = document.getElementById(\"days_left\"),\r\ncurrent_progress = document.getElementById(\"live_progress\")\r\n\r\nconst input = document.querySelectorAll('.pledged_amount')\r\nconst pledge_div = document.querySelectorAll('.enter_pledge')\r\nconst submit_btn = document.querySelectorAll('submit')\r\nconst about_card = document.querySelectorAll('#about .card')\r\nlet pledges_left = document.querySelectorAll('#about .card .pledges_left')\r\nlet pledges_left2 = document.querySelectorAll(\".reward_pledge .pledges_left\");\r\n\r\n\r\n// Currency formatter\r\nconst currency_formatter = new Intl.NumberFormat('en-US', {\r\n    style: 'currency',\r\n    currency: 'USD',\r\n    minimumFractionDigits: 0,\r\n    maximumFractionDigits: 0,\r\n})\r\n\r\n// global variables\r\nlet total_amount = 89914\r\nlet backers = 5007\r\nlet progress = Math.floor(total_amount / 100000 * 100)\r\namount_contributed.innerHTML = currency_formatter.format(total_amount)\r\nno_of_backers.innerHTML = backers.toLocaleString(\"en-US\")\r\ncurrent_progress.value = progress  \r\npledges_left[0].innerHTML = pledges_left2[0].innerHTML \r\npledges_left[1].innerHTML = pledges_left2[1].innerHTML\r\n\r\n\r\n// Open Mobile Menu\r\nfunction open_menu () {\r\nmobile_menu.style.visibility = 'visible'\r\nmobile_menu.style.opacity = 1\r\ndark_overlay.style.display = 'block'\r\nhtml_el.style.overflowY = \"hidden\"\r\n}\r\n\r\n// Close Mobile Menu\r\nfunction close_menu () {\r\nmobile_menu.style.visibility = 'hidden'\r\nmobile_menu.style.opacity = 0\r\ndark_overlay.style.display = 'none'\r\nhtml_el.style.overflowY = \"auto\"\r\nback_this_project.style.visibility = \"hidden\"\r\nback_this_project.style.opacity = \"0\"\r\nthanks.style.visibility = \"hidden\"\r\nthanks.style.opacity = \"0\"\r\n}\r\n\r\n// Change Bookmark State\r\nfunction bookmarked () {\r\nbookmark.innerHTML = \"Bookmarked\"\r\nbookmark_div.style.opacity = 1\r\nbookmark_div.style.color = \"--dark_cyan\"\r\nbookmark_img.src = \"images/icon-bookmark-cyan.svg\"\r\n}\r\n\r\n// Open Back This Project Pledge Card\r\nfunction open_back_this() {\r\n    back_this_project.style.visibility = \"visible\"\r\n    back_this_project.style.opacity = \"1\"\r\n    dark_overlay.style.display = 'block'\r\n}\r\n\r\n// Close Back This Project Pledge Card\r\nfunction close_back_this () {\r\n    back_this_project.style.visibility = \"hidden\"\r\n    back_this_project.style.opacity = \"0\"\r\n    dark_overlay.style.display = 'none'\r\n}\r\n\r\n// Function to close other detail summaries when one is open and add cyan radio button to opened card\r\n\r\nall_details.forEach(det => {\r\n    det.addEventListener('toggle', toggleOpenOnly)\r\n})\r\n\r\nfunction toggleOpenOnly (e) {\r\n    if (this.open) {\r\n        all_details.forEach(det => {\r\n          \r\n            // To Close other tabs when one is open\r\n            if (det != this && det.open){\r\n                det.open = false\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\n// Function to get input value and append it to amount and backers\r\npledge_div.forEach(pledge => {\r\n    const pledge_input = pledge.querySelector('.pledged_amount')\r\n    const pledge_submit = pledge.querySelector('.submit')\r\n\r\n    //On click of submit button\r\n    pledge_submit.addEventListener('click', submit_value\r\n    )\r\n    // On enter keydown\r\n    pledge_input.addEventListener('keydown', function(event) {\r\n        if(event.key === \"Enter\") {\r\n            submit_value()\r\n                }\r\n    })\r\n\r\n    \r\n    function submit_value () {\r\n        if (pledge_input.value !== \"\" || pledge_input.value != 0) {\r\n        total_amount += parseInt(pledge_input.value)\r\n        backers++\r\n        progress = Math.floor((total_amount / 100000 * 100)\r\n        )\r\n         total_backer_update()\r\n         show_thanks()\r\n        } else if(!pledge_input.min && pledge_input.value == \"\" ) {\r\n            alert(\"Please enter a value\")\r\n        }\r\n    }\r\n\r\n})\r\n\r\n\r\n// Show thanks for support modal\r\n    function show_thanks() {\r\n        thanks.style.visibility = \"visible\"\r\n        thanks.style.opacity = \"1\"\r\n        dark_overlay.style.display = 'block'\r\n        back_this_project.style.visibility = \"hidden\"\r\n        back_this_project.style.opacity = \"0\"\r\n    }\r\n// Close modal with got it button\r\n    thanks.querySelector('.btn').addEventListener('click', () => {\r\n        thanks.style.visibility = \"hidden\"\r\n        thanks.style.opacity = \"0\"\r\n        dark_overlay.style.display = 'none'\r\n    })\r\n\r\n\r\n// Update total amount and backers in dom\r\nfunction total_backer_update() {\r\n    // Update amount_contributed and no_of_backers\r\n    amount_contributed.innerHTML = currency_formatter.format(total_amount)\r\n    no_of_backers.innerHTML = backers.toLocaleString(\"en-US\")\r\n    current_progress.value = progress\r\n    // Clear input after delay of 1s\r\n    input.forEach(input => {\r\n        setTimeout(() => {\r\n            input.value = \"\"\r\n        }, 15000);\r\n    })\r\n}\r\n\r\n// Reduces pledges left after every submit and success card pops up and when pledges remain 0 disable card\r\npledge_card.forEach(card => { \r\n     const pledged_amount = card.querySelector('.pledged_amount')\r\n     const input = card.querySelector('.currency input')\r\n    card.querySelector('.submit').addEventListener('click', reduce_pledge)\r\n    input.addEventListener('keydown', function(event) {\r\n        if(event.key === \"Enter\") {\r\n            reduce_pledge()\r\n                }\r\n    })\r\n\r\n    function reduce_pledge() {\r\n        let  remaining_pledges = card.querySelector('.pledges_left')\r\n      \r\n        if (remaining_pledges.innerHTML != 0 && pledged_amount.value >= input.min){\r\n           remaining_pledges.innerHTML--\r\n            pledges_left[0].innerHTML = pledges_left2[0].innerHTML \r\n            pledges_left[1].innerHTML = pledges_left2[1].innerHTML\r\n        } else if (pledged_amount.value < input.min) {\r\n            alert(`Please enter a value equal to or  greater than $${input.min}`)\r\n        }\r\n        \r\n        // Grey out pledge card and about card if there are no pledges left \r\n        grey_out(card.querySelector('.pledges_left'), card)\r\n        about_card.forEach(card => {\r\n            grey_out(card.querySelector('.pledges_left'), card)\r\n        })\r\n    }\r\n})\r\n\r\n\r\n// Grey out\r\nfunction grey_out (item1, item2) {\r\n    if (item1.innerHTML == 0) {\r\n                item2.classList.add('grey_out_disable')\r\n            }\r\n}\r\n\r\n\r\n// Event Listeners\r\nhamburger_menu.addEventListener('click', open_menu)\r\ndark_overlay.addEventListener('click', close_menu)\r\nbookmark_div.addEventListener(\"click\", bookmarked)\r\nlinks.forEach(link => {\r\n    link.addEventListener('click', close_menu)\r\n}) \r\nback_this_btn.addEventListener('click', open_back_this)\r\nclose_this_btn.addEventListener('click', close_back_this)\r\n\r\n\r\n\r\n\r\n"]}